<div class ='container'>
  <p style="color: green"><%= notice %></p>

  <%= render @recipe %>
  <div class="container-fulid d-flex">

  <button class='btn btn btn-outline-dark add mb-3'>
    <%= link_to "GENERATE SHOPPING LIST", shopping_list_index_path %><br>
  </button>

  <button class='btn btn btn-outline-dark add mb-3'>
    <%= link_to 'Add Ingredients', new_recipe_food_path(@recipe) %> 
  </button>
    
        <%= render partial: 'modal', locals: { recipe_id: @recipe }  %>
        <%= link_to  new_recipe_path(@recipe), :class => "btn
        btn btn-outline-dark add mb-3" do %> 
      <% end %>

    </div>
    <hr class="my-1" />
  </div>
  
  <div class='container'>
    <%= link_to "Back to recipes", recipes_path %>
  </div>

  <table class="table container rounded">
      <thead>
        <tr>
          <th scope="col">Food</th>
          <th scope="col">Quantity</th>
          <th scope="col">Value</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        <% @recipe.recipe_foods.each do |recipeFood|%> 
        <tr>
          <td><%= recipeFood.food.name%></th>
          <td><%= recipeFood.quantity%><%= recipeFood.food.measurement_unit  %></td>
          <td>$<%= recipeFood.quantity * recipeFood.food.price %></td>
          <% if current_user != nil  %>
            <td class="d-flex gap-3 justify-content-end">
              <%=button_to "Delete", recipe_foods_path(recipe_id: @recipe.id, id: recipeFood.id), method: :delete, class:"btn btn-danger"%>
            </td>
          <% end %>
        </tr>
        <% end %>
      </tbody>
    </table>
</div>